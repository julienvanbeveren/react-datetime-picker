import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useRef as t,useState as a,useEffect as n,createContext as l,useContext as c}from"react";function i(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0",y:"0",viewBox:"0 0 323.358 323.358",xmlSpace:"preserve",className:"",children:e("g",{children:e("g",{xmlns:"http://www.w3.org/2000/svg",children:r("g",{children:[e("path",{d:"m48.863 323.358h225.632c23.653 0 42.875-19.222 42.875-42.875v-213.656c0-23.653-19.222-42.875-42.875-42.875h-17.006v-11.976c0-6.587-5.39-11.976-11.977-11.976s-11.976 5.389-11.976 11.976v11.976h-143.714v-11.976c0-6.587-5.39-11.976-11.977-11.976s-11.976 5.389-11.976 11.976v11.976h-17.006c-23.653 0-42.875 19.222-42.875 42.875v213.656c0 23.653 19.222 42.875 42.875 42.875zm-18.922-256.531c0-10.419 8.503-18.922 18.922-18.922h17.006v11.976c0 6.587 5.389 11.976 11.976 11.976s11.976-5.389 11.976-11.976v-11.976h143.715v11.976c0 6.587 5.389 11.976 11.976 11.976s11.976-5.389 11.976-11.976v-11.976h17.006c10.419 0 18.922 8.503 18.922 18.922v213.656c0 10.419-8.503 18.922-18.922 18.922h-225.631c-10.419 0-18.922-8.503-18.922-18.922z",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"92.816",cy:"122.756",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"158.685",cy:"122.756",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"224.554",cy:"122.756",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"92.816",cy:"182.637",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"158.685",cy:"182.637",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"224.554",cy:"182.637",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"92.816",cy:"242.518",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"158.685",cy:"242.518",r:"14.97",fill:"#949394","data-original":"#949394",className:""}),e("circle",{cx:"224.554",cy:"242.518",r:"14.97",fill:"#949394","data-original":"#949394",className:""})]})})})})}function d(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0",y:"0",viewBox:"0 0 128 128",xmlSpace:"preserve",className:"",children:e("g",{children:e("path",{xmlns:"http://www.w3.org/2000/svg",id:"Down_Arrow_3_",d:"m64 88c-1.023 0-2.047-.391-2.828-1.172l-40-40c-1.563-1.563-1.563-4.094 0-5.656s4.094-1.563 5.656 0l37.172 37.172 37.172-37.172c1.563-1.563 4.094-1.563 5.656 0s1.563 4.094 0 5.656l-40 40c-.781.781-1.805 1.172-2.828 1.172z",fill:"#000000","data-original":"#000000"})})})}function o(e,r){return new Date(e,r+1,0).getDate()}function s(e,r,t,a){return{date:new Date(e,r,t),currentMonth:a}}function p(e,r){return r-1<0?{month:11,year:e-1,days:o(e-1,11)}:{month:r-1,year:e,days:o(e,r-1)}}function u(e,r){return r+1>11?{month:0,year:e+1,days:o(e+1,1)}:{month:r+1,year:e,days:o(e,r+1)}}function g(e,r){const t=o(e,r),a=function(e,r){return new Date(e,r,0).getDay()}(e,r),n=[];let l=p(e,r);for(let e=0;e<a;e++)n.unshift(s(l.year,l.month,l.days-e,!1));for(let a=1;a<t+1;a++)n.push(s(e,r,a,!0));let c=35-n.length,i=u(e,r);for(let e=1;e<c+1;e++)n.push(s(i.year,i.month,e,!1));return n}function h(e){let r=[];for(let t=0;t<5;t++){let a=[];for(let r=7*t;r<7*t+7;r++)a.push(e[r]);r.push(a)}return r}function m(e){if(!e)return;const r=e.toString();return r.length>1?r:"0"+r}function f(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function x({children:t,onClick:a,open:n}){const{selected:l}=b();return r("div",{className:"rdp picker-trigger",onClick:a,children:[e("div",{className:"rdp picker-trigger-icon",children:e(i,{})}),r("div",{className:"rdp picker-trigger-main",children:[e("p",{className:"rdp picker-select-text",children:"Select a day"}),r("h2",{className:"rdp picker-date",children:[l&&m(null==l?void 0:l.date.getDate())+"."+m(null==l?void 0:l.date.getMonth())+"."+(null==l?void 0:l.date.getFullYear()),"Â "]})]}),e("div",{className:"rdp picker-trigger-arrow "+(n?"open":"closed"),children:e(d,{})}),t]})}function v({data:r,selected:t,handleSelectDay:a}){var n,l;const{minDate:c,maxDate:i}=b();return c&&r.date.getTime()<(null===(n=f(c))||void 0===n?void 0:n.getTime())||i&&r.date.getTime()>(null===(l=f(i))||void 0===l?void 0:l.getTime())?e("td",{className:"rdp calendar-day disabled",children:r.date.getDate()}):e("td",{onClick:e=>a(r),className:`rdp calendar-day \n                ${r.date.getTime()==(null==t?void 0:t.date.getTime())?"selected":""}\n                ${r.currentMonth?"":"different-month"}\n            `,children:r.date.getDate()})}function y({open:l,setOpen:c,onChange:i}){const{selected:d,setSelected:o,submitOnChange:s}=b(),m=t(),[f,x]=a(h(g(2022,(new Date).getMonth())));function y(e){s?(null==o||o(e),null==i||i(e.date),c(!1)):d&&d.date.getTime()==e.date.getTime()?null==o||o(void 0):null==o||o(e)}function w(e,r){let t=f[2][3].date.getMonth(),a=f[2][3].date.getFullYear();if("next"==e)for(let e=0;e<r;e++){let e=u(a,t);t=e.month,a=e.year}else if("prev"==e)for(let e=0;e<r;e++){let e=p(a,t);t=e.month,a=e.year}const n=h(g(a,t));x(n)}return n((()=>{const e=document.querySelector("div.rdp.picker-trigger");document.addEventListener("click",(r=>{r.composedPath().includes(e)||r.composedPath().includes(m.current)||c(!1)}))}),[]),r("div",{className:"rdp date-picker-wrapper "+(l?"open":"closed"),onClick:e=>e.stopPropagation(),ref:m,children:[r("div",{className:"rdp date-picker-header",children:[e("div",{onClick:e=>w("prev",1),className:"rdp scroll-arrow left",children:"prev"}),r("h3",{className:"rdp month-year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][f[3][3].date.getMonth()]," ",f[3][3].date.getFullYear()]}),e("div",{onClick:e=>w("next",1),className:"rdp scroll-arrow right",children:"next"})]}),e("table",{className:"rdp date-picker table",children:e("tr",{children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(((r,t)=>e("th",{className:"rdp calendar-day-title",children:r},t)))})}),e("div",{className:"rdp date-picker-calendar-wrapper",children:e("table",{className:"rdp date-picker table",children:f.map(((r,t)=>e("tr",{children:r.map(((r,t)=>e(v,{selected:d,data:r,handleSelectDay:y},t)))},t)))})}),!s&&r("div",{className:"rdp date-picker-buttons-wrapper",children:[e("button",{onClick:function(){null==o||o(void 0),c(!1)},className:"rdp button secondary-button",children:"Cancel"}),e("button",{onClick:function(){null==i||i(null==d?void 0:d.date),c(!1)},className:"rdp button primary-button",children:"Apply"})]})]})}!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap");:root{--rdp-bg-clr:#fff;--rdp-text-clr:#000;--rdp-accent-clr:#1a1a1a;--rdp-secondary-clr:#949394;--rdp-soft-clr:#f2f2f2}.rdp{font-family:Lato,sans-serif}.rdp *{box-sizing:border-box;color:var(--rdp-accent-clr);margin:0;padding:0}.rdp.picker-trigger{background-color:var(--rdp-bg-clr);border:1.5px solid var(--rdp-soft-clr);border-radius:10px;cursor:pointer;gap:15px;justify-content:space-between;padding:10px 20px;position:relative}.rdp.picker-trigger,.rdp.picker-trigger-icon{align-items:center;display:flex;flex-direction:row}.rdp.picker-trigger-icon{height:auto;width:20px}.rdp.picker-trigger-icon img{height:auto;width:100%}.rdp.picker-trigger-main{align-items:flex-start;display:flex;flex-direction:column}.rdp.picker-select-text{color:var(--rdp-accent-clr);font-size:13px;user-select:none}.rdp.picker-date{color:var(--rdp-text-clr);font-size:17px;font-weight:800;user-select:none}.rdp.picker-trigger-arrow{align-items:center;display:flex;flex-direction:row;height:auto;margin-left:100px;transition:all .3s ease;user-select:none;width:23px}.rdp.picker-trigger-arrow.open{transform:rotate(180deg);transition:all .3s ease}.rdp.picker-trigger-arrow img{height:auto;width:100%}.rdp.react-date-picker{width:100%}.rdp.date-picker-wrapper{background-color:var(--rdp-bg-clr);border-radius:10px;box-shadow:2px 2px 10px 1px rgba(0,0,0,.093);cursor:auto;display:flex;flex-direction:column;gap:10px;height:auto;left:0;opacity:0;padding:20px;pointer-events:none;position:absolute;top:105%;transform:translateY(-20px);transition:all .3s ease}.rdp.date-picker-wrapper.open{opacity:1;pointer-events:auto;transform:translateY(0);transition:all .3s ease}.rdp.calendar-day-title{color:var(--rdp-secondary-clr);font-weight:500}.rdp.calendar-day,.rdp.calendar-day-title{background-color:var(--rdp-bg-clr);border-radius:9px;height:36px;text-align:center;user-select:none;width:40px}.rdp.calendar-day{cursor:pointer;font-weight:600;transition:all 50ms ease}.rdp.calendar-day.different-month{color:var(--rdp-secondary-clr)}.rdp.calendar-day.selected{background-color:var(--rdp-accent-clr);color:var(--rdp-bg-clr)}.rdp.calendar-day:not(.disabled,.selected):hover{background-color:var(--rdp-soft-clr);transition:all 50ms ease}.rdp.calendar-day.disabled{color:var(--rdp-soft-clr);cursor:default;text-decoration:line-through}.rdp.date-picker-buttons-wrapper{display:flex;flex-direction:row;gap:8px}.rdp.button{border-radius:10px;cursor:pointer;padding:10px 20px;width:100%}.rdp.primary-button{background-color:var(--rdp-accent-clr);color:var(--rdp-bg-clr);font-weight:600}.rdp.secondary-button{background-color:var(--rdp-bg-clr);border:1.5px solid var(--rdp-soft-clr);color:var(--rdp-accent-clr);font-weight:600}.rdp.date-picker.table{table-layout:fixed;width:fit-content}.rdp.date-picker-calendar-wrapper{display:flex;overflow:hidden;width:295p x}.rdp.date-picker-header{display:flex;flex-direction:row;justify-content:space-between}.rdp.scroll-arrow{cursor:pointer;user-select:none}');const w=l({});function b(){return c(w)}function k({onChange:r,minDate:t,submitOnChange:n,maxDate:l,defaultValue:c}){const[i,d]=a(!1),[o,s]=a(c&&{date:f(c)}||void 0),p={pickerOpen:i,setPickerOpen:d,selected:o,setSelected:s,minDate:t,maxDate:l,defaultValue:c,submitOnChange:n};return e(w.Provider,{value:p,children:e(x,{onClick:()=>d((e=>!e)),open:i,children:e(y,{open:i,setOpen:d,onChange:r||void 0})})})}export{k as DatePicker,b as useDatePicker};
